<header class="main-header solid" ng-controller="IndexController">
  <div class="h-container">
    <div class="logo">
      <img src="/img/playing-cards.png" alt="">
      <h5>Cards for Humanity</h5>
    </div>

    <nav class="site-nav solid" id="nav-id">
      <ul>
        <li>
          <a href="#!/" id="top">Home</a>
        </li>
        <li>
          <a href="#!/team">
            Meet the Team
          </a>
        </li>
        <span ng-show="showOptions">
          <li>
            <a href="#!/signup">Sign Up</a>
          </li>
          <li>
            <a href="#!/signin">Sign in</a>
          </li>
        </span>
          <li>
            <div style="padding-top:5px">
              <a>
                <i class="material-icons">notifications</i>
              </a>
            </div>
          </li>
        <span ng-hide="showOptions">
          <li class="dropdown">
            <a id="arrow" class="dropdown-trigger" href="#" data-target="dropdown1" style="margin-left:5px">{{global.user.username}}
              <span>
                <i class="ion-arrow-down-b"></i>
              </span>
            </a>
          </li>
        </span>
      </ul>
    </nav>
    <ul id="dropdown1" class="dropdown-content">
      <li>
        <a href="#!/profile" ng-click="userGames()">Profile</a>
      </li>
      <li class="divider"></li>
      <li>
        <a onclick="logout()">Log Out</a>
      </li>
    </ul>



    <div class="menu-toggle">
      <div class="hamburger"></div>
    </div>
  </div>
</header>

<div class="container profile" ng-controller="IndexController">
  <div class="personal-game-header">
    <h3>Personal Game Log</h3>
  </div>
  <div class="row">
    <div class="col s4 rule">
      <div class="profile-info">
        <div class="circular-portrait">
          <img ng-src="{{global.user.imageUrl}}">
        </div>
        <h5>
          {{global.user.username.toUpperCase()}}
        </h5>
        <span>
          <i class="ion-ios-email"></i>
          <p>{{global.user.email.toLowerCase()}}</p>
        </span>
      </div>
    </div>
    <div class="col s8">
      <div class="game-log">
        <h6>List of games played</h6>
        <table class="striped">
          <thead>
            <tr>
              <th>Game ID</th>
              <th>No. of rounds won</th>
              <th>Date Played</th>
            </tr>
          </thead>

          <tbody>
            <tr ng-repeat="games in global.userGameInfo">
              <td>{{games.gameId}}</td>
              <td>{{games.userGame[0].points}}</td>
              <td>{{games.playedAt | date: 'longDate'}}</td>
            </tr>
          </tbody>
        </table>
        <h5 class="pointsWon">Total Points Won:
          <span class="points">{{global.pointsWon}}</span>
        </h5>
      </div>
    </div>
  </div>
</div>

<script>
  $(document).ready(function () {
    $(".dropdown-trigger").dropdown();
    $('.menu-toggle').click(function () {
      $('.site-nav').toggleClass('site-nav--open', 500);
      $(this).toggleClass('open');
    })
    $(window).scroll(function () {
      $(".main-header").addClass("solid");
      $(".site-nav").addClass("solid");
      $(".humburger.solid").addClass("solid")
    })
  })
</script>